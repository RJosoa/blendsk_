{% extends 'base.html.twig' %}

{% block body %}
<div class="container mt-5">
    <h1>Ajouter un utilisateur</h1>

    {# Affichage des messages Flash #}
    {% for message in app.flashes('error') %}
        <div class="alert alert-danger">
            {{ message }}
        </div>
    {% endfor %}
    {% for message in app.flashes('success') %}
        <div class="alert alert-success">
            {{ message }}
        </div>
    {% endfor %}

    <form method="post" class="mt-4" action="{{ path('register') }}">
        <div class="form-group">
            <label for="name">Nom</label>
            <input type="text" id="name" name="name" class="form-control"
                   placeholder="Ex : Jean Dupont" required autocomplete="name">
        </div>
        <div class="form-group mt-3">
            <label for="username">Nom d'utilisateur</label>
            <input type="text" id="username" name="username" class="form-control"
                   placeholder="Ex : jdupont" required autocomplete="username">
        </div>
        <div class="form-group mt-3">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" class="form-control"
                   placeholder="Ex : jean.dupont@email.com" required autocomplete="email">
        </div>
        <div class="form-group mt-3">
            <label for="password">Mot de passe</label>
            <input type="password" id="password" name="password" class="form-control"
                   minlength="6" placeholder="6 caractères minimum" required autocomplete="new-password">
        </div>
        <div class="form-group mt-3">
            <label for="roles">Rôles</label>
            <select id="roles" name="roles[]" class="form-control" multiple>
                <option value="ROLE_USER">ROLE_USER</option>
                <option value="ROLE_ADMIN">ROLE_ADMIN</option>
            </select>
            <small class="form-text text-muted">Maintenez Ctrl (ou Cmd) pour sélectionner plusieurs rôles.</small>
        </div>
        <div class="form-check mt-3">
            <input type="checkbox" class="form-check-input" id="termsAccept" name="termsAccept" value="1" required>
            <label class="form-check-label" for="termsAccept">
                J'accepte les <a href="#" target="_blank">termes et conditions</a>.
            </label>
        </div>
        <button type="submit" class="btn btn-success mt-3">Enregistrer</button>
    </form>
</div>
{% endblock %}
